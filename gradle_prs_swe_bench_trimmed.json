[
  {
    "instance_id": "Aliucord__Aliucord-516",
    "repo": "Aliucord/Aliucord",
    "issue_id": 516,
    "base_commit": "b6de5c9185ca0781241ccddfc0cacbaad8a768f9",
    "problem_statement": "refactor: update build configuration and dependencies",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/Aliucord/Aliucord/pull/516",
    "patch": "diff --git a/Aliucord/build.gradle.kts b/Aliucord/build.gradle.kts\nindex db43826a3..72b4da536 100644\n--- a/Aliucord/build.gradle.kts\n+++ b/Aliucord/build.gradle.kts\n@@ -1,18 +1,28 @@\n-@file:Suppress(\"UnstableApiUsage\")\n-\n plugins {\n-    id(\"maven-publish\")\n-    id(\"org.jetbrains.dokka\")\n+    `maven-publish`\n+    alias(libs.plugins.aliucord.core)\n+    alias(libs.plugins.android.library)\n+    alias(libs.plugins.dokka)\n+    alias(libs.plugins.kotlin)\n }\n \n group = \"com.aliucord\"\n version = \"2.4.0\"\n \n-aliucord {\n-    projectType.set(com.aliucord.gradle.ProjectType.CORE)\n-}\n-\n android {\n+    namespace = \"com.aliucord\"\n+    compileSdk = 36\n+\n+    defaultConfig {\n+        minSdk = 24\n+    }\n+\n+    buildTypes {\n+        named(\"release\") {\n+            isMinifyEnabled = false\n+        }\n+    }\n+\n     defaultConfig {\n         buildConfigField(\"String\", \"VERSION\", \"\\\"$version\\\"\")\n         buildConfigField(\"boolean\", \"RELEASE\", System.getenv(\"RELEASE\") ?: \"false\")\n@@ -21,37 +31,40 @@ android {\n \n     buildFeatures {\n         viewBinding = true\n+        buildConfig = true\n     }\n-}\n \n-dependencies {\n-    api(libs.appcompat)\n-    api(libs.material)\n-    api(libs.constraintlayout)\n-    api(libs.aliuhook)\n-    compileOnly(project(\":Injector\")) // Needed to access certain stubs\n-}\n+    publishing {\n+        singleVariant(\"debug\") {}\n+    }\n \n-tasks {\n-    dokkaHtml.configure {\n-        dokkaSourceSets {\n-            named(\"main\") {\n-                noAndroidSdkLink.set(false)\n-                includeNonPublic.set(false)\n-            }\n-        }\n+    lint {\n+        disable += \"SetTextI18n\"\n     }\n+}\n \n-    dokkaJavadoc.configure {\n-        dokkaSourceSets {\n-            named(\"main\") {\n-                noAndroidSdkLink.set(false)\n-                includeNonPublic.set(false)\n-            }\n-        }\n+kotlin {\n+    jvmToolchain(21)\n+\n+    compilerOptions {\n+        freeCompilerArgs.addAll(\n+            \"-Xno-call-assertions\",\n+            \"-Xno-param-assertions\",\n+            \"-Xno-receiver-assertions\",\n+        )\n     }\n }\n \n+dependencies {\n+    compileOnly(libs.aliuhook)\n+    compileOnly(libs.appcompat)\n+    compileOnly(libs.constraintlayout)\n+    compileOnly(libs.discord)\n+    compileOnly(libs.kotlin.stdlib)\n+    compileOnly(libs.material)\n+    compileOnly(project(\":Injector\")) // Needed to access certain stubs\n+}\n+\n afterEvaluate {\n     publishing {\n         publications {\ndiff --git a/Injector/build.gradle.kts b/Injector/build.gradle.kts\nindex 0acaa91b9..87e1c8185 100644\n--- a/Injector/build.gradle.kts\n+++ b/Injector/build.gradle.kts\n@@ -1,19 +1,53 @@\n-@file:Suppress(\"UnstableApiUsage\")\n-\n version = \"2.3.0\"\n \n-aliucord {\n-    projectType.set(com.aliucord.gradle.ProjectType.INJECTOR)\n+plugins {\n+    alias(libs.plugins.aliucord.injector)\n+    alias(libs.plugins.android.library)\n+    alias(libs.plugins.kotlin)\n }\n \n android {\n+    namespace = \"com.aliucord\"\n+    compileSdk = 36\n+\n+    defaultConfig {\n+        minSdk = 24\n+    }\n+\n+    buildTypes {\n+        named(\"release\") {\n+            isMinifyEnabled = false\n+        }\n+    }\n+\n+    androidResources {\n+        enable = false\n+    }\n+\n     buildFeatures {\n         buildConfig = false\n-        androidResources = false\n+    }\n+\n+    lint {\n+        disable += \"SetTextI18n\"\n+    }\n+}\n+\n+kotlin {\n+    jvmToolchain(21)\n+\n+    compilerOptions {\n+        freeCompilerArgs.addAll(\n+            \"-Xno-call-assertions\",\n+            \"-Xno-param-assertions\",\n+            \"-Xno-receiver-assertions\",\n+        )\n     }\n }\n \n dependencies {\n-    implementation(libs.appcompat)\n-    implementation(libs.aliuhook)\n+    compileOnly(libs.aliuhook)\n+    compileOnly(libs.appcompat)\n+    compileOnly(libs.discord)\n+    compileOnly(libs.kotlin.stdlib)\n }\ndiff --git a/build.gradle.kts b/build.gradle.kts\nindex 84a726855..7cdcdafc1 100644\n--- a/build.gradle.kts\n+++ b/build.gradle.kts\n@@ -1,76 +1,7 @@\n-@file:Suppress(\"UnstableApiUsage\")\n-\n-import com.aliucord.gradle.AliucordExtension\n-import com.android.build.gradle.BaseExtension\n-import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n-\n-@Suppress(\"DSL_SCOPE_VIOLATION\")\n plugins {\n-    alias(libs.plugins.kotlin) apply false\n+    alias(libs.plugins.aliucord.core) apply false\n+    alias(libs.plugins.aliucord.injector) apply false\n     alias(libs.plugins.android.library) apply false\n-    alias(libs.plugins.aliucord.gradle) apply false\n     alias(libs.plugins.dokka) apply false\n+    alias(libs.plugins.kotlin) apply false\n }\n-\n-subprojects {\n-    if (project.name !in arrayOf(\"Aliucord\", \"Injector\")) return@subprojects\n-\n-    apply {\n-        plugin(\"com.android.library\")\n-        plugin(\"kotlin-android\")\n-        plugin(\"com.aliucord.gradle\")\n-    }\n-\n-    repositories {\n-        google()\n-        mavenCentral()\n-        maven(\"https://maven.aliucord.com/snapshots\")\n-    }\n-\n-    android {\n-        namespace = \"com.aliucord\"\n-\n-        compileSdkVersion(30)\n-\n-        @Suppress(\"ExpiredTargetSdkVersion\")\n-        defaultConfig {\n-            minSdk = 24\n-            targetSdk = 30\n-        }\n-\n-        lintOptions {\n-            disable += \"SetTextI18n\"\n-        }\n-\n-        buildTypes {\n-            get(\"release\").isMinifyEnabled = false\n-        }\n-\n-        compileOptions {\n-            sourceCompatibility = JavaVersion.VERSION_11\n-            targetCompatibility = JavaVersion.VERSION_11\n-        }\n-    }\n-\n-    dependencies {\n-        val discord by configurations\n-\n-        discord(rootProject.libs.discord)\n-    }\n-\n-    tasks.withType<KotlinCompile> {\n-        kotlinOptions {\n-            jvmTarget = \"11\"\n-            freeCompilerArgs = freeCompilerArgs +\n-                \"-Xno-call-assertions\" +\n-                \"-Xno-param-assertions\" +\n-                \"-Xno-receiver-assertions\"\n-        }\n-    }\n-}\n-\n-fun Project.android(configuration: BaseExtension.() -> Unit) =\n-    extensions.getByName<BaseExtension>(\"android\").configuration()\n-\n-fun Project.aliucord(configuration: AliucordExtension.() -> Unit) =\n-    extensions.getByName<AliucordExtension>(\"aliucord\").configuration()\ndiff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml\nindex 72664c6b6..fa10a09e9 100644\n--- a/gradle/libs.versions.toml\n+++ b/gradle/libs.versions.toml\n@@ -1,25 +1,32 @@\n [versions]\n-kotlin = \"1.5.21\"\n-android-gradle = \"7.0.4\"\n-#noinspection GradleDependency causes errors\n-appcompat = \"1.4.1\"\n-dokka = \"1.8.10\"\n-aliuhook = \"1.1.0\"\n-aliucord-gradle = \"753ad25\"\n+aliucord-gradle = \"2.1.0\"\n+aliuhook = \"1.1.4\"\n+android-gradle = \"8.13.0\"\n discord = \"126021\"\n-#noinspection GradleDependency causes errors\n-material = \"1.5.0\"\n+dokka = \"1.8.10\"\n+kotlin = \"2.2.0\"\n+smali = \"3.0.9\"\n+\n+#noinspection GradleDependency\n+appcompat = \"1.4.1\"\n+#noinspection GradleDependency\n constraintlayout = \"2.1.4\"\n+#noinspection GradleDependency\n+material = \"1.5.0\"\n \n [libraries]\n-appcompat = { module = \"androidx.appcompat:appcompat\", version.ref = \"appcompat\" }\n aliuhook = { module = \"com.aliucord:Aliuhook\", version.ref = \"aliuhook\" }\n+appcompat = { module = \"androidx.appcompat:appcompat\", version.ref = \"appcompat\" }\n constraintlayout = { module = \"androidx.constraintlayout:constraintlayout\", version.ref = \"constraintlayout\" }\n discord = { module = \"com.discord:discord\", version.ref = \"discord\" }\n+kotlin-stdlib = { module = \"org.jetbrains.kotlin:kotlin-stdlib\", version.ref = \"kotlin\" }\n material = { module = \"com.google.android.material:material\", version.ref = \"material\" }\n+smali = { module = \"com.android.tools.smali:smali\", version.ref = \"smali\" }\n+smali-baksmali = { module = \"com.android.tools.smali:smali-baksmali\", version.ref = \"smali\" }\n \n [plugins]\n kotlin = { id = \"org.jetbrains.kotlin.android\", version.ref = \"kotlin\" }\n android-library = { id = \"com.android.library\", version.ref = \"android-gradle\" }\n-aliucord-gradle = { id = \"com.aliucord.gradle\", version.ref = \"aliucord-gradle\" }\n+aliucord-core = { id = \"com.aliucord.core\", version.ref = \"aliucord-gradle\" }\n+aliucord-injector = { id = \"com.aliucord.injector\", version.ref = \"aliucord-gradle\" }\n dokka = { id = \"org.jetbrains.dokka\", version.ref = \"dokka\" }\ndiff --git a/patches/build.gradle.kts b/patches/build.gradle.kts\nindex c026a60a4..58e0f011c 100644\n--- a/patches/build.gradle.kts\n+++ b/patches/build.gradle.kts\n@@ -1,34 +1,52 @@\n-import com.android.build.gradle.LibraryExtension\n-import java.io.ByteArrayOutputStream\n+import com.aliucord.gradle.task.adb.DeployComponentTask\n+import java.util.Properties\n \n version = \"1.3.0\"\n \n-// Make dependency configuration for build tools\n-val buildTools: Configuration by configurations.creating\n+// --- Android --- //\n+\n+plugins {\n+    alias(libs.plugins.android.library)\n+}\n \n-repositories {\n-    mavenCentral()\n-    google()\n+android {\n+    namespace = \"com.aliucord.patches\"\n+    compileSdk = 36\n }\n \n+// --- Dependencies --- //\n+\n+// Make dependency configuration for build tools\n+val smaliTools: Configuration by configurations.creating\n+val discord: Configuration by configurations.creating\n+\n dependencies {\n-    val smaliVersion = \"3.0.9\"\n-    buildTools(\"com.android.tools.smali:smali:$smaliVersion\")\n-    buildTools(\"com.android.tools.smali:smali-baksmali:$smaliVersion\")\n+    smaliTools(libs.smali)\n+    smaliTools(libs.smali.baksmali)\n+    discord(libs.discord)\n+}\n+\n+// --- Other --- //\n+val localProperties = Properties().apply {\n+    val file = project.rootProject.file(\"local.properties\")\n+    if (file.exists()) {\n+        load(file.inputStream())\n+    }\n }\n \n+// --- Shared files --- //\n+\n val patchesDir = projectDir.resolve(\"src\")\n val smaliDir = projectDir.resolve(\"smali\")\n-val smaliOriginalDir = buildDir.resolve(\"smali_original\")\n-val discordApk = project.gradle.gradleUserHomeDir\n-    .resolve(\"caches/aliucord/discord/discord-${libs.discord.get().version}.apk\")\n+val smaliOriginalDir = layout.buildDirectory.file(\"smali_original\").get().asFile\n+val patchesBundle = layout.buildDirectory.file(\"outputs/patches.zip\").get().asFile\n \n // --- Public tasks --- //\n \n-task<Zip>(\"package\") {\n+val packageTask by tasks.register(\"package\", Zip::class) {\n     group = \"aliucord\"\n-    archiveFileName.set(\"patches.zip\")\n-    destinationDirectory.set(buildDir)\n+    archiveFileName = patchesBundle.name\n+    destinationDirectory = patchesBundle.parentFile\n     isReproducibleFileOrder = true\n     isPreserveFileTimestamps = false\n \n@@ -37,32 +55,24 @@ task<Zip>(\"package\") {\n     include(\"**/*.patch\")\n }\n \n-task(\"deployWithAdb\") {\n+tasks.register<DeployComponentTask>(\"deployWithAdb\") {\n     group = \"aliucord\"\n-    dependsOn(\"package\")\n-\n-    val patchesPath = buildDir.resolve(\"patches.zip\").absolutePath\n-    val remotePatchesDir = \"/storage/emulated/0/Android/data/com.aliucord.manager/cache/patches\"\n-\n-    doLast {\n-        val android = project(\":Aliucord\").extensions\n-            .getByName<LibraryExtension>(\"android\")\n-\n-        exec { commandLine(android.adbExecutable, \"shell\", \"mkdir\", \"-p\", remotePatchesDir) }\n-        exec { commandLine(android.adbExecutable, \"push\", patchesPath, \"$remotePatchesDir/$version.custom.zip\") }\n-    }\n+    componentType = \"patches\"\n+    componentVersion = project.version.toString()\n+    componentFile.set(patchesBundle)\n+    dependsOn(packageTask)\n }\n \n-task(\"disassembleWithPatches\") {\n+tasks.register(\"disassembleWithPatches\") {\n     group = \"aliucord\"\n     dependsOn(\"disassembleInternal\", \"copyDisassembled\", \"applyPatches\")\n }\n \n-task(\"testPatches\", JavaExec::class) {\n+tasks.register<JavaExec>(\"testPatches\") {\n     group = \"aliucord\"\n     mustRunAfter(\"applyPatches\")\n \n-    val outputDex = buildDir.resolve(\"patched.dex\").absolutePath\n+    val outputDex = layout.buildDirectory.file(\"patched.dex\").get().asFile.absolutePath\n     val patchFiles = fileTree(patchesDir) { include(\"**/*.patch\") }.files\n     val smaliFiles = patchFiles.map { path ->\n         path.toRelativeString(patchesDir)\n@@ -71,11 +81,9 @@ task(\"testPatches\", JavaExec::class) {\n             .absolutePath\n     }\n \n-    standardOutput = System.out\n-    errorOutput = System.err\n-    classpath = buildTools\n+    classpath = smaliTools\n     jvmArgs = listOf(\"-Xmx2G\")\n-    mainClass.set(\"com.android.tools.smali.smali.Main\")\n+    mainClass = \"com.android.tools.smali.smali.Main\"\n     args = listOf(\n         \"assemble\",\n         \"--verbose\",\n@@ -95,7 +103,7 @@ task(\"testPatches\", JavaExec::class) {\n     }\n }\n \n-task(\"writePatches\") {\n+tasks.register(\"writePatches\") {\n     group = \"aliucord\"\n     mustRunAfter(\"applyPatches\")\n \n@@ -104,13 +112,12 @@ task(\"writePatches\") {\n             error(\"Smali directory does not exist! Run the disassembleWithPatches task\")\n         }\n \n-        val stdout = ByteArrayOutputStream()\n-        val result = exec {\n-            isIgnoreExitValue = true\n-            standardOutput = stdout\n-            errorOutput = System.err\n-            workingDir = projectDir\n-            executable = \"diff\"\n+        val diffBin = localProperties.getProperty(\"diff.bin\", null)\n+            ?: project.findProperty(\"diff.bin\") as String?\n+            ?: \"diff\"\n+\n+        val output = providers.execIgnoreCode {\n+            executable = diffBin\n             args = listOf(\n                 \"--unified\",\n                 \"--minimal\",\n@@ -122,12 +129,12 @@ task(\"writePatches\") {\n                 \"./\" + smaliDir.toRelativeString(projectDir).replace('\\\\', '/'),\n             )\n         }\n+        val result = output.result.get()\n \n         // diff returns 1 if changes are present\n         if (result.exitValue !in 0..1) result.assertNormalExitValue()\n \n-        val diffs = stdout\n-            .toString() // Convert bytes to string\n+        val diffs = output.standardOutput.asText.get()\n             .replace(\"\\r\\n\", \"\\n\") // Replace CRLF endings with LF\n             .split(\"^diff --unified.+?\\\\R\".toRegex(RegexOption.MULTILINE)) // Split by file diff header\n             .filter(String::isNotBlank)\n@@ -143,6 +150,8 @@ task(\"writePatches\") {\n \n             logger.lifecycle(\"Writing patch for class $className\")\n \n+            logger.lifecycle(\"Writing patch for class $className\")\n+\n             val cleanDiff = diff\n                 .split(\"\\n\")\n                 .toMutableList()\n@@ -159,28 +168,34 @@ task(\"writePatches\") {\n     }\n }\n \n-task<Delete>(\"clean\") {\n-    delete(buildDir)\n+tasks.named<Delete>(\"clean\") {\n+    delete(layout.buildDirectory)\n     delete(smaliDir)\n }\n \n // --- Internal tasks --- //\n \n-task(\"disassembleInternal\") {\n+val disassembleInternal by tasks.registering {\n     outputs.upToDateWhen {\n         smaliOriginalDir.exists()\n     }\n \n     doFirst {\n-        zipTree(discordApk.absolutePath).matching { include(\"classes*.dex\") }.visit {\n+        // Resolve Discord APK dependency to an apk file\n+        val discordApk = discord.incoming\n+            .artifactView { attributes.attribute(ArtifactTypeDefinition.ARTIFACT_TYPE_ATTRIBUTE, \"apk\") }\n+            .files.singleFile\n+\n+        val classesFiles = zipTree(discordApk.absolutePath)\n+            .matching { include(\"classes*.dex\") }\n+\n+        classesFiles.visit {\n             logger.lifecycle(\"Disassembling $name\")\n-            javaexec {\n-                classpath = buildTools\n+            providers.javaexec {\n+                classpath = smaliTools\n                 jvmArgs = listOf(\"-Xmx2G\")\n-                standardOutput = System.out\n-                errorOutput = System.err\n-\n                 systemProperty(\"line.separator\", \"\\n\") // Ensure smali output uses LF endings\n+\n                 mainClass.set(\"com.android.tools.smali.baksmali.Main\")\n                 args = listOf(\n                     \"disassemble\",\n@@ -188,13 +203,13 @@ task(\"disassembleInternal\") {\n                     \"--output\", smaliOriginalDir.absolutePath,\n                     \"${discordApk.absolutePath}/$name\",\n                 )\n-            }\n+            }.result.get()\n         }\n     }\n }\n \n-task<Copy>(\"copyDisassembled\") {\n-    mustRunAfter(\"disassembleInternal\")\n+val copyDisassembled by tasks.registering(Copy::class) {\n+    mustRunAfter(disassembleInternal)\n     doFirst {\n         delete(smaliDir)\n     }\n@@ -203,8 +218,8 @@ task<Copy>(\"copyDisassembled\") {\n     destinationDir = smaliDir\n }\n \n-task(\"applyPatches\") {\n-    mustRunAfter(\"copyDisassembled\")\n+tasks.register(\"applyPatches\") {\n+    mustRunAfter(copyDisassembled)\n     doLast {\n         val patchFiles = fileTree(patchesDir).filter { it.name.endsWith(\".patch\") }\n \n@@ -215,10 +230,12 @@ task(\"applyPatches\") {\n \n             logger.lifecycle(\"Applying smali patches to class $className\")\n \n-            exec {\n-                standardOutput = System.out\n-                errorOutput = System.err\n-                executable = \"patch\"\n+            val patchBin = localProperties.getProperty(\"patch.bin\", null)\n+                ?: project.findProperty(\"patch.bin\") as String?\n+                ?: \"patch\"\n+\n+            providers.execIgnoreCode {\n+                executable = patchBin\n                 args = listOf(\n                     \"--verbose\",\n                     \"--forward\",\n@@ -230,3 +247,21 @@ task(\"applyPatches\") {\n         }\n     }\n }\n+\n+private fun ProviderFactory.execIgnoreCode(block: ExecSpec.() -> Unit): ExecOutput = run {\n+    val result = exec {\n+        workingDir = projectDir\n+        isIgnoreExitValue = true\n+        block(this)\n+    }\n+\n+    val stdout = result.standardOutput.asText.get().trim()\n+    logger.info(stdout)\n+\n+    val stderr = result.standardError.asText.get().trim()\n+    if (stderr.isNotEmpty()) {\n+        logger.error(stderr)\n+    }\n+\n+    result\n+}\n",
    "test_patch": "",
    "created_at": "2025-02-22T03:11:55Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "AllanWang__Frost-for-Facebook-1951",
    "repo": "AllanWang/Frost-for-Facebook",
    "issue_id": 1951,
    "base_commit": "bc07e6ec9d4a4cc567adc8c7ef791fe259092d4e",
    "problem_statement": "Settings DSL",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/AllanWang/Frost-for-Facebook/pull/1951",
    "patch": "diff --git a/app-compose/build.gradle b/app-compose/build.gradle\nindex 28129fe3b7..00e9df0782 100644\n--- a/app-compose/build.gradle\n+++ b/app-compose/build.gradle\n@@ -190,6 +190,7 @@ dependencies {\n     implementation(\"androidx.compose.ui:ui:${composeVersion}\")\n     implementation(\"androidx.activity:activity-compose:1.7.2\")\n     implementation(\"androidx.lifecycle:lifecycle-viewmodel-compose:2.6.1\")\n+    implementation(\"androidx.navigation:navigation-compose:2.6.0\")\n     // Tooling support (Previews, etc.)\n     implementation(\"androidx.compose.ui:ui-tooling:${composeVersion}\")\n     // Foundation (Border, Background, Box, Image, Scroll, shapes, animations, etc.)\n",
    "test_patch": "",
    "created_at": "2023-06-23T00:03:36Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "AppIntro__AppIntro-1322",
    "repo": "AppIntro/AppIntro",
    "issue_id": 1322,
    "base_commit": "4edd850bace0f5ebe770c72905c7f73b78447c8c",
    "problem_statement": "fix(deps): update dependency org.mockito:mockito-core to v5.21.0",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/AppIntro/AppIntro/pull/1322",
    "patch": "diff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml\nindex c20d927c..97945053 100644\n--- a/gradle/libs.versions.toml\n+++ b/gradle/libs.versions.toml\n@@ -11,7 +11,7 @@ junit = \"4.13.2\"\n kotlin = \"2.2.21\"\n ktlint_gradle = \"12.3.0\"\n min_sdk_version = \"21\"\n-mockito_core = \"5.20.0\"\n+mockito_core = \"5.21.0\"\n recyclerview = \"1.3.2\"\n viewpager2 = \"1.1.0\"\n target_sdk_version = \"34\"\n",
    "test_patch": "",
    "created_at": "2025-12-10T03:49:33Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "DroidKaigi__conference-app-2021-762",
    "repo": "DroidKaigi/conference-app-2021",
    "issue_id": 762,
    "base_commit": "fa95453669911acd4d20003b6f14ac9ed3d052b9",
    "problem_statement": "Update AGP 7.1.0-rc01 and Hilt 2.40.5",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/DroidKaigi/conference-app-2021/pull/762",
    "patch": "diff --git a/build.gradle b/build.gradle\nindex da00633d7..475361d5c 100644\n--- a/build.gradle\n+++ b/build.gradle\n@@ -15,7 +15,7 @@ buildscript {\n         }\n     }\n     dependencies {\n-        classpath 'com.android.tools.build:gradle:7.1.0-beta02'\n+        classpath 'com.android.tools.build:gradle:7.1.0-rc01'\n         classpath Dep.Kotlin.bom\n         classpath Dep.Kotlin.plugin\n         classpath Dep.Kotlin.stdlibJdk8\n",
    "test_patch": "",
    "created_at": "2022-01-13T15:37:24Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "DroidKaigi__conference-app-2023-1224",
    "repo": "DroidKaigi/conference-app-2023",
    "issue_id": 1224,
    "base_commit": "1a9febb27a35f2f033df186d534fb9fc89c2d1df",
    "problem_statement": "[Android] add LocalClock to control time for screenshot test",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/DroidKaigi/conference-app-2023/pull/1224",
    "patch": "diff --git a/core/testing/build.gradle.kts b/core/testing/build.gradle.kts\nindex 8016717c1..2d65923e5 100644\n--- a/core/testing/build.gradle.kts\n+++ b/core/testing/build.gradle.kts\n@@ -12,6 +12,7 @@ dependencies {\n     implementation(projects.core.model)\n     implementation(projects.core.designsystem)\n     implementation(projects.core.data)\n+    implementation(projects.core.ui)\n     implementation(projects.feature.main)\n     implementation(projects.feature.sessions)\n     implementation(projects.feature.about)\ndiff --git a/core/ui/build.gradle.kts b/core/ui/build.gradle.kts\nindex a396e8521..48e34b842 100644\n--- a/core/ui/build.gradle.kts\n+++ b/core/ui/build.gradle.kts\n@@ -18,6 +18,7 @@ kotlin {\n                 implementation(libs.kermit)\n                 api(projects.core.common)\n                 api(libs.composeImageLoader)\n+                api(libs.kotlinxDatetime)\n             }\n         }\n     }\n",
    "test_patch": "",
    "created_at": "2023-09-15T15:14:52Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "GetStream__whatsApp-clone-compose-238",
    "repo": "GetStream/whatsApp-clone-compose",
    "issue_id": 238,
    "base_commit": "8da203783a51aac98b33a4b04f41159e262b09eb",
    "problem_statement": "Bump com.github.skydoves:compose-stable-marker from 1.0.4 to 1.0.5",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/GetStream/whatsApp-clone-compose/pull/238",
    "patch": "diff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml\nindex b66beda..2eeb268 100644\n--- a/gradle/libs.versions.toml\n+++ b/gradle/libs.versions.toml\n@@ -24,7 +24,7 @@ androidxTest = \"1.6.1\"\n androidxTestExt = \"1.1.3\"\n androidxTracing = \"1.1.0\"\n androidxUiAutomator = \"2.3.0\"\n-composeStableMarker = \"1.0.4\"\n+composeStableMarker = \"1.0.5\"\n hilt = \"2.55\"\n hiltExt = \"1.0.0\"\n junit4 = \"4.13.2\"\n",
    "test_patch": "",
    "created_at": "2024-06-10T01:49:19Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "GrapheneOS__Camera-583",
    "repo": "GrapheneOS/Camera",
    "issue_id": 583,
    "base_commit": "7a55352d74b6e8064aa083f01ecbe47953097ed9",
    "problem_statement": "Update CameraX library to 1.6.0-alpha01",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/GrapheneOS/Camera/pull/583",
    "patch": "diff --git a/app/build.gradle.kts b/app/build.gradle.kts\nindex 6140f48b..73fa0766 100644\n--- a/app/build.gradle.kts\n+++ b/app/build.gradle.kts\n@@ -95,7 +95,7 @@ dependencies {\n     implementation(\"androidx.constraintlayout:constraintlayout:2.2.1\")\n     implementation(\"androidx.core:core-ktx:1.17.0\")\n \n-    val cameraVersion = \"1.5.0\"\n+    val cameraVersion = \"1.6.0-alpha01\"\n     implementation(\"androidx.camera:camera-core:$cameraVersion\")\n     implementation(\"androidx.camera:camera-camera2:$cameraVersion\")\n     implementation(\"androidx.camera:camera-lifecycle:$cameraVersion\")\n",
    "test_patch": "",
    "created_at": "2025-11-02T00:16:41Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "IacobIonut01__Gallery-651",
    "repo": "IacobIonut01/Gallery",
    "issue_id": 651,
    "base_commit": "6cbec9025a7272cebddce9d3a2984df83b486a38",
    "problem_statement": "Gallery 3.2.0 Release",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/IacobIonut01/Gallery/pull/651",
    "patch": "diff --git a/app/build.gradle.kts b/app/build.gradle.kts\nindex da6c6b602..1bcdcef08 100644\n--- a/app/build.gradle.kts\n+++ b/app/build.gradle.kts\n@@ -17,14 +17,14 @@ plugins {\n \n android {\n     namespace = \"com.dot.gallery\"\n-    compileSdk = 35\n+    compileSdk = 36\n \n     defaultConfig {\n         applicationId = \"com.dot.gallery\"\n         minSdk = 30\n-        targetSdk = 35\n-        versionCode = 31209\n-        versionName = \"3.1.2\"\n+        targetSdk = 36\n+        versionCode = 32005\n+        versionName = \"3.2.0\"\n \n         testInstrumentationRunner = \"androidx.test.runner.AndroidJUnitRunner\"\n         vectorDrawables {\n@@ -245,6 +245,7 @@ dependencies {\n \n     // Exif Interface\n     implementation(libs.androidx.exifinterface)\n+    implementation(libs.metadata.extractor)\n \n     // Datastore Preferences\n     implementation(libs.datastore.prefs)\n@@ -304,7 +305,7 @@ fun getApiKey(): String {\n         val properties = Properties()\n         properties.load(FileInputStream(fl))\n         properties.getProperty(\"MAPS_TOKEN\")\n-    } catch (e: Exception) {\n+    } catch (_: Exception) {\n         \"\\\"DEBUG\\\"\"\n     }\n }\n@@ -317,15 +318,7 @@ val allowAllFilesAccess: String\n             val properties = Properties()\n             properties.load(FileInputStream(fl))\n             properties.getProperty(\"ALL_FILES_ACCESS\")\n-        } catch (e: Exception) {\n+        } catch (_: Exception) {\n             \"true\"\n         }\n-    }\n-\n-@Suppress(\"UnstableApiUsage\")\n-val gitHeadVersion: String\n-    get() {\n-        return providers.exec {\n-            commandLine(\"git\", \"show\", \"-s\", \"--format=%h\", \"HEAD\")\n-        }.standardOutput.asText.get().trim()\n     }\n\\ No newline at end of file\ndiff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml\nindex 73507a37d..032df3369 100644\n--- a/gradle/libs.versions.toml\n+++ b/gradle/libs.versions.toml\n@@ -1,52 +1,52 @@\n [versions]\n-adaptive = \"1.1.0-beta01\"\n-agp = \"8.8.0\"\n+adaptive = \"1.1.0\"\n+agp = \"8.9.2\"\n aire = \"0.15.5\"\n avifCoderCoil = \"2.0.10\"\n-benchmarkMacroJunit4 = \"1.3.3\"\n+benchmarkMacroJunit4 = \"1.3.4\"\n biometric = \"1.2.0-alpha05\"\n appcompat = \"1.7.0\"\n composeVideo = \"1.2.0\"\n core = \"1.11.1\"\n coreSplashscreen = \"1.0.1\"\n fuzzywuzzy = \"1.4.0\"\n-exifinterface = \"1.3.7\"\n+exifinterface = \"1.4.1\"\n graphicsShapes = \"1.0.1\"\n jxlCoder = \"2.1.10\"\n kotlin = \"2.1.10\"\n-kotlinCoroutinesVersion = \"1.9.0\"\n+kotlinCoroutinesVersion = \"1.10.1\"\n ksp = \"2.1.10-1.0.29\"\n-core-ktx = \"1.15.0\"\n+core-ktx = \"1.16.0\"\n junit = \"4.13.2\"\n androidx-test-ext-junit = \"1.2.1\"\n espresso-core = \"3.6.1\"\n lazycolumnscrollbar = \"2.2.0\"\n-lifecycle-runtime = \"2.8.7\"\n-activity-compose = \"1.10.0\"\n-hilt = \"2.53.1\"\n+lifecycle-runtime = \"2.9.0\"\n+activity-compose = \"1.10.1\"\n+hilt = \"2.55\"\n hiltCommon = \"1.2.0\"\n material = \"1.12.0\"\n-material3 = \"1.3.1\"\n+material3 = \"1.3.2\"\n media3Exoplayer = \"1.5.1\"\n-navigation-runtime-ktx = \"2.8.6\"\n+metadataExtractor = \"2.19.0\"\n+navigation-runtime-ktx = \"2.9.0\"\n pinchzoomgrid = \"0.0.5\"\n profileinstaller = \"1.4.1\"\n-room = \"2.6.1\"\n-accompanist = \"0.37.0\"\n-datastore = \"1.1.2\"\n-securityCrypto = \"1.1.0-alpha06\"\n-sketch = \"4.0.2\"\n+room = \"2.7.1\"\n+accompanist = \"0.37.2\"\n+datastore = \"1.1.6\"\n+securityCrypto = \"1.1.0-alpha07\"\n+sketch = \"4.0.4\"\n startupRuntime = \"1.2.0\"\n tensorflowLite = \"2.16.1\"\n tensorflowLiteTaskVision = \"0.4.4\"\n-tensorflowLiteGpu = \"2.16.1\"\n uiautomator = \"2.3.0\"\n-composealpha = \"1.8.0-beta01\"\n-kotlinxSerializationJson = \"1.7.3\"\n-workRuntimeKtx = \"2.10.0\"\n-zoomimageViewSketch = \"1.1.1\"\n+composealpha = \"1.8.1\"\n+kotlinxSerializationJson = \"1.8.0\"\n+workRuntimeKtx = \"2.10.1\"\n+zoomimageViewSketch = \"1.1.2\"\n rules = \"1.6.1\"\n-lifecycleProcess = \"2.8.7\"\n+lifecycleProcess = \"2.9.0\"\n \n [libraries]\n # AndroidX\n@@ -82,7 +82,7 @@ compose-activity = { group = \"androidx.activity\", name = \"activity-compose\", ver\n compose-runtime = { group = \"androidx.compose.runtime\", name = \"runtime\", version.ref = \"composealpha\" }\n compose-foundation = { group = \"androidx.compose.foundation\", name = \"foundation\", version.ref = \"composealpha\" }\n compose-lifecycle-runtime = { group = \"androidx.lifecycle\", name = \"lifecycle-runtime-compose\", version.ref = \"lifecycle-runtime\" }\n-compose-material-icons-extended = { module = \"androidx.compose.material:material-icons-extended\", version = \"1.7.7\" }\n+compose-material-icons-extended = { module = \"androidx.compose.material:material-icons-extended\", version = \"1.7.8\" }\n compose-material3 = { group = \"androidx.compose.material3\", name = \"material3\", version.ref = \"material3\" }\n compose-material3-window-size = { group = \"androidx.compose.material3\", name = \"material3-window-size-class\", version.ref = \"material3\" }\n compose-ui-tooling = { group = \"androidx.compose.ui\", name = \"ui-tooling\", version.ref = \"composealpha\" }\n@@ -92,7 +92,7 @@ compose-ui-graphics = { group = \"androidx.compose.ui\", name = \"ui-graphics\", ver\n compose-video = { module = \"io.sanghun:compose-video\", version.ref = \"composeVideo\" }\n \n # Compose-shimmer\n-compose-shimmer = { group = \"com.valentinilk.shimmer\", name = \"compose-shimmer\", version = \"1.3.1\"}\n+compose-shimmer = { group = \"com.valentinilk.shimmer\", name = \"compose-shimmer\", version = \"1.3.2\"}\n \n # Compose Tests\n compose-ui-test-manifest = { group = \"androidx.compose.ui\", name = \"ui-test-manifest\" }\n@@ -109,6 +109,7 @@ androidx-hilt-navigation-compose = { group = \"androidx.hilt\", name = \"hilt-navig\n # Room\n jxl-coder-coil = { module = \"com.github.awxkee:jxl-coder-coil\", version.ref = \"jxlCoder\" }\n lazycolumnscrollbar = { module = \"com.github.nanihadesuka:LazyColumnScrollbar\", version.ref = \"lazycolumnscrollbar\" }\n+metadata-extractor = { module = \"com.drewnoakes:metadata-extractor\", version.ref = \"metadataExtractor\" }\n pinchzoomgrid = { module = \"io.github.dokar3:pinchzoomgrid\", version.ref = \"pinchzoomgrid\" }\n room-runtime = { group = \"androidx.room\", name = \"room-runtime\", version.ref = \"room\" }\n room-compiler = { group = \"androidx.room\", name = \"room-compiler\", version.ref = \"room\" }\n@@ -148,7 +149,7 @@ androidx-test-ext-junit = { group = \"androidx.test.ext\", name = \"junit\", version\n espresso-core = { group = \"androidx.test.espresso\", name = \"espresso-core\", version.ref = \"espresso-core\" }\n \n kotlinx-serialization-json = { module = \"org.jetbrains.kotlinx:kotlinx-serialization-json\", version.ref = \"kotlinxSerializationJson\" }\n-tensorflow-lite-gpu = { module = \"org.tensorflow:tensorflow-lite-gpu\", version.ref = \"tensorflowLiteGpu\" }\n+tensorflow-lite-gpu = { module = \"org.tensorflow:tensorflow-lite-gpu\", version.ref = \"tensorflowLite\" }\n tensorflow-lite-task-vision = { module = \"org.tensorflow:tensorflow-lite-task-vision\", version.ref = \"tensorflowLiteTaskVision\" }\n tensorflow-lite = { module = \"org.tensorflow:tensorflow-lite\", version.ref = \"tensorflowLite\" }\n zoomimage-sketch = { module = \"io.github.panpf.zoomimage:zoomimage-compose-sketch4\", version.ref = \"zoomimageViewSketch\" }\n",
    "test_patch": "",
    "created_at": "2025-05-14T12:51:46Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "LemmyNet__jerboa-2078",
    "repo": "LemmyNet/jerboa",
    "issue_id": 2078,
    "base_commit": "2e1d2004f827810c4e209348cb2e094bbfb58d22",
    "problem_statement": "Update plugin org.jmailen.kotlinter to v5.4.2",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/LemmyNet/jerboa/pull/2078",
    "patch": "diff --git a/build.gradle.kts b/build.gradle.kts\nindex 10e4757fb..cfee6420c 100644\n--- a/build.gradle.kts\n+++ b/build.gradle.kts\n@@ -5,7 +5,7 @@ plugins {\n     id(\"com.android.library\") version \"8.13.2\" apply false\n     id(\"com.android.test\") version \"8.13.2\" apply false\n     id(\"org.jetbrains.kotlin.android\") version \"2.3.10\" apply false\n-    id(\"org.jmailen.kotlinter\") version \"5.4.0\" apply false\n+    id(\"org.jmailen.kotlinter\") version \"5.4.2\" apply false\n     id(\"com.google.devtools.ksp\") version \"2.3.5\" apply false\n     id(\"androidx.baselineprofile\") version \"1.4.1\" apply false\n }\n",
    "test_patch": "",
    "created_at": "2026-02-14T01:48:39Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "LibChecker__LibChecker-1915",
    "repo": "LibChecker/LibChecker",
    "issue_id": 1915,
    "base_commit": "eefe4869124b9e90a8b280beba3645a75e4f3756",
    "problem_statement": "Update plugin spotless to v8.2.1",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/LibChecker/LibChecker/pull/1915",
    "patch": "diff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml\nindex b5dccefbe8..cd9f86d475 100644\n--- a/gradle/libs.versions.toml\n+++ b/gradle/libs.versions.toml\n@@ -21,7 +21,7 @@ kotlin-parcelize = { id = \"org.jetbrains.kotlin.plugin.parcelize\", version.ref =\n ksp = { id = \"com.google.devtools.ksp\", version = \"2.3.5\" }\n protobuf = { id = \"com.google.protobuf\", version = \"0.9.6\" }\n moshiX = \"dev.zacsweers.moshix:0.34.4\"\n-spotless = \"com.diffplug.spotless:8.1.0\"\n+spotless = \"com.diffplug.spotless:8.2.1\"\n aboutlibraries = { id = \"com.mikepenz.aboutlibraries.plugin.android\", version.ref = \"aboutlibraries\" }\n \n [libraries]\n",
    "test_patch": "",
    "created_at": "2026-01-25T15:55:22Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "MMRLApp__MMRL-542",
    "repo": "MMRLApp/MMRL",
    "issue_id": 542,
    "base_commit": "2facd60f8a71a8dde95dc32dc25093b3210862a1",
    "problem_statement": "Overhaul su",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/MMRLApp/MMRL/pull/542",
    "patch": "diff --git a/app/build.gradle.kts b/app/build.gradle.kts\nindex 9257d2723..97000008a 100644\n--- a/app/build.gradle.kts\n+++ b/app/build.gradle.kts\n@@ -1,6 +1,5 @@\n+\n import com.android.build.gradle.internal.api.ApkVariantOutputImpl\n-import org.gradle.internal.extensions.stdlib.capitalized\n-import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n \n plugins {\n     alias(libs.plugins.self.application)\n@@ -56,7 +55,7 @@ android {\n             keyAlias = project.releaseKeyAlias\n             keyPassword = project.releaseKeyPassword\n             enableV2Signing = true\n-            enableV3Signing = true\n+            enableV3Signing = false\n         }\n     } else {\n         signingConfigs.getByName(\"debug\")\n@@ -262,8 +261,14 @@ dependencies {\n     implementation(libs.square.logging.interceptor)\n     implementation(libs.square.moshi)\n     ksp(libs.square.moshi.kotlin)\n+\n+    implementation(\"dev.chrisbanes.haze:haze:1.6.10\")\n+    implementation(\"dev.chrisbanes.haze:haze-materials:1.6.10\")\n+\n+    implementation(libs.composedestinations.core)\n+    ksp(libs.composedestinations.ksp)\n }\n \n tasks.register(\"version\") {\n     println(appVersion)\n-}\n\\ No newline at end of file\n+}\ndiff --git a/gradle/libs.versions.toml b/gradle/libs.versions.toml\nindex e8038ac6f..6ff639f56 100644\n--- a/gradle/libs.versions.toml\n+++ b/gradle/libs.versions.toml\n@@ -41,10 +41,10 @@ squareRetrofit = \"2.11.0\"\n squareOkhttp = \"4.12.0\"\n squareMoshi = \"1.15.1\"\n runtimeAndroid = \"1.7.6\"\n-webuiXPortable = \"769fa20ea1\"\n+webuiXPortable = \"1c97cba712\"\n workRuntimeKtx = \"2.10.0\"\n lifecycleProcess = \"2.8.7\"\n-apacheCommons = \"1.27.1\"\n+apacheCommons = \"1.28.0\"\n parcelablelist = \"2.0.1\"\n zoomableVersion = \"2.2.0\"\n kotlinVersion = \"1.9.0\"\n@@ -55,8 +55,11 @@ material = \"1.12.0\"\n material3Android = \"1.3.2\"\n runtimeAndroidVersion = \"1.7.8\"\n swiperefreshlayout = \"1.1.0\"\n+composedestinations = \"2.2.0\"\n \n [libraries]\n+composedestinations-ksp = { module = \"io.github.raamcosta.compose-destinations:ksp\", version.ref = \"composedestinations\" }\n+composedestinations-core = { module = \"io.github.raamcosta.compose-destinations:core\", version.ref = \"composedestinations\" }\n apache-commons-compress = { group = \"org.apache.commons\", name = \"commons-compress\", version.ref = \"apacheCommons\" }\n androidx-activity-compose = { group = \"androidx.activity\", name = \"activity-compose\", version.ref = \"androidxActivity\" }\n androidx-annotation = { group = \"androidx.annotation\", name = \"annotation\", version.ref = \"androidxAnnotation\" }\n",
    "test_patch": "",
    "created_at": "2025-09-27T11:59:45Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  },
  {
    "instance_id": "Mahmud0808__ColorBlendr-273",
    "repo": "Mahmud0808/ColorBlendr",
    "issue_id": 273,
    "base_commit": "3f138d697b0e1056083c60f35d73e77229726966",
    "problem_statement": "Merge master into fdroid",
    "version": "1.0.0",
    "issue_url": "",
    "pr_url": "https://github.com/Mahmud0808/ColorBlendr/pull/273",
    "patch": "diff --git a/app/build.gradle.kts b/app/build.gradle.kts\nindex 90ee3a85..4a9f728b 100644\n--- a/app/build.gradle.kts\n+++ b/app/build.gradle.kts\n@@ -16,8 +16,8 @@ android {\n     defaultConfig {\n         minSdk = 31\n         targetSdk = 36\n-        versionCode = 39\n-        versionName = \"v2.1\"\n+        versionCode = 40\n+        versionName = \"v2.1.1\"\n \n         ndk {\n             abiFilters.addAll(listOf(\"arm64-v8a\", \"armeabi-v7a\", \"x86\", \"x86_64\"))\ndiff --git a/colorpickerdialog/build.gradle b/colorpickerdialog/build.gradle\nindex f26a21e5..15fde457 100644\n--- a/colorpickerdialog/build.gradle\n+++ b/colorpickerdialog/build.gradle\n@@ -3,12 +3,12 @@ plugins {\n }\n \n android {\n-    compileSdk 36\n+    compileSdk = 36\n     namespace \"me.jfenn.colorpickerdialog\"\n \n     defaultConfig {\n-        minSdk 31\n-        targetSdk 36\n+        minSdk = 31\n+        targetSdk = 36\n         aarMetadata {\n             minCompileSdk = 31\n         }\ndiff --git a/libadb/build.gradle b/libadb/build.gradle\nindex 5382282f..7fcbad8f 100644\n--- a/libadb/build.gradle\n+++ b/libadb/build.gradle\n@@ -8,12 +8,12 @@ group = 'io.github.muntashirakon'\n version = '3.1.0'\n \n android {\n-    compileSdk 35\n+    compileSdk = 35\n     namespace \"io.github.muntashirakon.adb\"\n \n     defaultConfig {\n-        minSdk 1\n-        targetSdk 35\n+        minSdk = 1\n+        targetSdk = 35\n         aarMetadata {\n             minCompileSdk = 1\n         }\n",
    "test_patch": "",
    "created_at": "2026-01-13T09:53:16Z",
    "FAIL_TO_PASS": [],
    "PASS_TO_PASS": []
  }
]